<div class="jumbotron">
  <h1>AngularJS Simple Module </h1>
  <p class="lead">
    <img src="images/pic_angular.jpg" alt="Fabrizio Torelli"><br>
    Sample application for testing angular life cycle.
  </p>
  <p><a class="btn btn-lg btn-success" ng-href="#/">Load success!<span class="glyphicon glyphicon-ok"></span></a></p>
</div>

<div id="ctrl-user" ng-controller="MainCtrl as user" ng-init="init()">
  <ngk-loading-animation animation-show-flag="animationVisible" animation-text="animationDefaultText"
                         animation-done-text="animationSuccessText" animation-error-text="animationErrorText"
                         hide-timeout="5000"></ngk-loading-animation>
  <ngk-users-form user-data="userData"></ngk-users-form>
  <br/>
  <ngk-message-box box-title="Operation Status" message-delay="15000" ng-if="user.showMessages()">
    <ngk-message-tab message-id="savedMessage" message-title="User saved" message-type="info">User saved successful!!</ngk-message-tab>
    <ngk-message-tab message-id="removedMessage" message-title="User removed" message-type="warn">User removed successful!!</ngk-message-tab>
    <ngk-message-tab message-id="errorMessage" message-title="Error occured" message-type="error">Operation Unsuccessful!!</ngk-message-tab>
  </ngk-message-box>
  <br/>
  <br/>
  <table class="mytable">
    <header class="form-title" style="margin-bottom: 10px;">User List :</header>
    <tbody>
      <tr class="table-header">
        <td>Filter :</td>
        <td colspan="5"><input name="email" type="text" ng-model="searchText"/>&nbsp;<button ng-click="user.resetSearch()">reset</button></td>
      </tr>
      <tr class="table-header">
        <th>Name</th>
        <th>Surname</th>
        <th>Address</th>
        <th>Mobile</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    <tr ng-repeat="aUser in user.list() | bySurnameAndName:searchText">
      <td title="Name: {{aUser.name}}">{{aUser.name}}</td>
      <td title="Surname: {{aUser.surname}}">{{aUser.surname}}</td>
      <td title="Address: {{aUser.address}}">{{aUser.address}}</td>
      <td title="Mobile: {{aUser.mobile}}">{{aUser.mobile}}</td>
      <td title="Email: {{aUser.email}}">{{aUser.email}}</td>
      <td><span class="delete-button" ng-click="user.remove(aUser.id)" title="Remove User" ><img></img></span></td>
    </tr>
    <tr style="display: {{user.list().length===0 ? 'block' : 'none'}}; width: 100%;">
      <td style="width: 100% !important;" colspan="6">No user found!!</td>
    </tr>
  </tbody>
  </table>
  <br/>
  <br/>
  <ngk-users-table users="user.list()" timeout="120000"></ngk-users-table>
</div>
<br/>
<br/>
<br/>
